(this["webpackJsonpreactive-calendar"]=this["webpackJsonpreactive-calendar"]||[]).push([[0],{10:function(e,t,r){e.exports={Box:"CalendarBox_Box__2lRA8",Current:"CalendarBox_Current__uOHXP",FirstRow:"CalendarBox_FirstRow__TIB_Y",SecondRow:"CalendarBox_SecondRow__hRFFL",LeftBox:"CalendarBox_LeftBox__1XpaP",RightBox:"CalendarBox_RightBox__14_hI",ColorBox:"CalendarBox_ColorBox__8UtG5",Number:"CalendarBox_Number__3CyHb",Active:"CalendarBox_Active__1tYwI",PopoverBox:"CalendarBox_PopoverBox__19NhT",Excellent:"CalendarBox_Excellent__3Dmc2",Good:"CalendarBox_Good__LFVTU",Average:"CalendarBox_Average__jgPis",Bad:"CalendarBox_Bad__2SsnH",Miserable:"CalendarBox_Miserable__1xVd_",Popover:"CalendarBox_Popover__DOKPv"}},14:function(e,t,r){e.exports={Navigation:"Navigation_Navigation__9z3ST",Logo:"Navigation_Logo__1v8mo",NavigationButton:"Navigation_NavigationButton__omDWX",Burger:"Navigation_Burger__1IBBq",Slice:"Navigation_Slice__3Sjis",MobileButtons:"Navigation_MobileButtons__2O2wV",MobileLink:"Navigation_MobileLink__Aoe8S"}},15:function(e,t,r){e.exports={TodoContainer:"TodoContainer_TodoContainer__3HNq1",CurrentDate:"TodoContainer_CurrentDate__hNhhc",MoodContainer:"TodoContainer_MoodContainer__1Z4Eu",MoodSelect:"TodoContainer_MoodSelect__1FatK",MoodText:"TodoContainer_MoodText__RIQZL",TodoSection:"TodoContainer_TodoSection__1BGjt",TodoSectionText:"TodoContainer_TodoSectionText___mZ_S",Add:"TodoContainer_Add__1prwe",Form:"TodoContainer_Form__3WvJa",NoTodos:"TodoContainer_NoTodos__17Hgu",Todos:"TodoContainer_Todos__1HawL",Excellent:"TodoContainer_Excellent__2gk8w",Good:"TodoContainer_Good__ZLZTq",Average:"TodoContainer_Average__3BsJs",Bad:"TodoContainer_Bad__18f-1",Miserable:"TodoContainer_Miserable__3HQzt"}},24:function(e,t,r){e.exports={TodoForm:"TodoForm_TodoForm__2kOIN",TitleInput:"TodoForm_TitleInput__1Tv0r",Textarea:"TodoForm_Textarea__1PNzc",CreateButton:"TodoForm_CreateButton__1K4wB",TitleLabel:"TodoForm_TitleLabel__2DRFM"}},27:function(e,t,r){e.exports={Todo:"Todo_Todo__1tPH5",TodoText:"Todo_TodoText__skZpM",Icon:"Todo_Icon__2yVEi",TodoDescription:"Todo_TodoDescription__36Sj4"}},30:function(e,t,r){e.exports={Label:"Label_Label__2R2-t",LabelText:"Label_LabelText__3yDWO",Icon:"Label_Icon__3Nmlq"}},36:function(e,t,r){e.exports={LoginContainer:"Login_LoginContainer__3yL9J",Slogan:"Login_Slogan__3O6SN"}},37:function(e,t,r){e.exports={RegisterContainer:"Register_RegisterContainer__12l1T",Slogan:"Register_Slogan__2kV9W"}},38:function(e,t,r){e.exports={DayBox:"DayBox_DayBox__ueRhW",Popover:"DayBox_Popover__5-WVa"}},51:function(e,t,r){e.exports={Loader:"Spinner_Loader__1GOUL",load6:"Spinner_load6__1rG_Z",round:"Spinner_round__36623"}},52:function(e,t,r){e.exports={Calendar:"Calendar_Calendar__2wnNf"}},53:function(e,t,r){e.exports={Row:"CalendarRow_Row__2VF7W"}},54:function(e,t,r){e.exports={TodoRow:"CalendarTodo_TodoRow__14rYH"}},56:function(e,t,r){e.exports={TodoLabels:"TodoLabels_TodoLabels__3b3Y_"}},57:function(e,t,r){e.exports={MonthRow:"MonthRow_MonthRow__ETzxd"}},58:function(e,t,r){e.exports={MonthBox:"MonthBox_MonthBox__2k5mH"}},59:function(e,t,r){e.exports={WeekRow:"WeekRow_WeekRow__2MlqW"}},64:function(e,t,r){},93:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),o=r(49),s=r.n(o),c=(r(64),r(12)),i=r(3),u=r(4),l=r(6),d=r(5),p=r(22),h=r(9),b=r(2),j=r.n(b),f=r(8),v=r(33),x=r.n(v);x.a.defaults.baseURL="http://localhost:5000";var m=x.a;function O(){return(O=Object(f.a)(j.a.mark((function e(t){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/users/register",t);case 2:return r=e.sent,(a=r.data.response).successfull&&_(a.data.authToken),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(f.a)(j.a.mark((function e(t){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/users/login",t);case 2:return r=e.sent,(a=r.data.response).successfull&&_(a.data.authToken),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){localStorage.setItem("authToken",e)}var y={isUserAuthenticated:function(){return null!==localStorage.getItem("authToken")},register:function(e){return O.apply(this,arguments)},login:function(e){return g.apply(this,arguments)},logout:function(){localStorage.removeItem("authToken")}},C=r(14),k=r.n(C),w=r(0),T=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={showMobile:!1},e.redirect=function(t){e.props.redirect(e.props.history,t)},e.logout=function(){e.setState({showMobile:!1}),y.logout(),e.props.redirect(e.props.history,"/Login",!1)},e.toggleMobileButtons=function(){e.setState({showMobile:!e.state.showMobile})},e}return Object(u.a)(r,[{key:"render",value:function(){var e=this,t=null;t=this.props.isAuthenticated?Object(w.jsxs)("span",{children:[Object(w.jsx)("div",{onClick:function(){return e.redirect("/Calendar")},className:k.a.MobileLink,children:"Calendar"}),Object(w.jsx)("div",{onClick:function(){return e.redirect("/Overview")},className:k.a.MobileLink,children:"Overview"}),Object(w.jsx)("div",{onClick:this.logout,className:k.a.MobileLink,children:"Logout"})]}):Object(w.jsxs)("span",{children:[Object(w.jsx)("div",{onClick:function(){return e.redirect("/Login")},className:k.a.MobileLink,children:"Login"}),Object(w.jsx)("div",{onClick:function(){return e.redirect("/Register")},className:k.a.MobileLink,children:"Register"})]});var r=null;r=this.props.isAuthenticated?Object(w.jsxs)("span",{children:[Object(w.jsx)("button",{onClick:this.logout,className:k.a.NavigationButton,children:"Logout"}),Object(w.jsx)("button",{onClick:function(){return e.redirect("/Overview")},className:k.a.NavigationButton,children:"Overview"}),Object(w.jsx)("button",{onClick:function(){return e.redirect("/Calendar")},className:k.a.NavigationButton,children:"Calendar"})]}):Object(w.jsxs)("span",{children:[Object(w.jsx)(p.b,{to:"/Register",className:k.a.NavigationButton,children:"Register"}),Object(w.jsx)(p.b,{to:"/Login",className:k.a.NavigationButton,children:"Login"})]});var a={display:this.state.showMobile?"block":"none"};return Object(w.jsxs)("nav",{className:k.a.Navigation,children:[Object(w.jsx)("span",{onClick:function(){return e.redirect("/")},to:"/",className:k.a.Logo,children:"Reactive Calendar"}),r,Object(w.jsxs)("div",{onClick:this.toggleMobileButtons,className:k.a.Burger,children:[Object(w.jsx)("div",{className:k.a.Slice}),Object(w.jsx)("div",{className:k.a.Slice}),Object(w.jsx)("div",{className:k.a.Slice})]}),Object(w.jsx)("div",{style:a,className:k.a.MobileButtons,children:t})]})}}]),r}(a.Component),N=Object(h.f)(T),M=r(11),L=r(36),S=r.n(L),B=function(e){return Object(w.jsx)("div",{className:"alert alert-".concat(e.alert),role:"alert",children:e.message})},D=r(51),R=r.n(D),I=function(){return Object(w.jsx)("div",{className:R.a.Loader,children:"Loading..."})},A=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).login=function(){var e=Object(f.a)(j.a.mark((function e(t){var r,n,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=a.emailInput.current.value.trim(),n=a.passwordInput.current.value.trim(),r&&!(r.length<5)){e.next=6;break}return alert("Email is required!"),e.abrupt("return");case 6:if(n&&!(n.length<6)){e.next=9;break}return alert("Password must be at least 6 symbols!"),e.abrupt("return");case 9:return a.setState({isLoading:!0}),e.next=12,y.login({email:r,password:n});case 12:(o=e.sent).successfull?(a.setState({isLoading:!1}),a.props.redirect(a.props.history,"/Calendar",!0)):a.setState({errorMessages:Object(M.a)(o.errorMessages),isLoading:!1});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={isLoading:!1,errorMessages:[]},a.emailInput=n.a.createRef(null),a.passwordInput=n.a.createRef(null),a}return Object(u.a)(r,[{key:"render",value:function(){var e=this.state.isLoading?Object(w.jsx)(I,{}):null,t=[];return this.state.errorMessages.map((function(e,r){return t.push(Object(w.jsx)(B,{alert:"danger",message:e},r))})),Object(w.jsxs)("div",{className:S.a.LoginContainer,children:[e,Object(w.jsx)("p",{className:S.a.Slogan,children:"Log in to your reactive account"}),Object(w.jsxs)("form",{children:[t,Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Email address"}),Object(w.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter your email",ref:this.emailInput})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Password"}),Object(w.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter your password",ref:this.passwordInput})]}),Object(w.jsx)("button",{onClick:this.login,className:"btn btn-primary w-100",children:"Log in"})]})]})}}]),r}(a.Component),F=r(37),P=r.n(F),H=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).register=function(){var e=Object(f.a)(j.a.mark((function e(t){var r,n,o,s,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=a.emailInput.current.value.trim(),n=a.usernameInput.current.value.trim(),o=a.passwordInput.current.value.trim(),s=a.repeatPasswordInput.current.value.trim(),r&&!(r.length<5)){e.next=8;break}return alert("Email is required!"),e.abrupt("return");case 8:if(n&&!(n.length<5)){e.next=11;break}return alert("Username must be at least 5 symbols long!"),e.abrupt("return");case 11:if(o&&!(o.length<6)){e.next=14;break}return alert("Password must be at least 6 symbols long!"),e.abrupt("return");case 14:if(o===s){e.next=17;break}return alert("Passwords does not match!"),e.abrupt("return");case 17:return a.setState({isLoading:!0}),e.next=20,y.register({email:r,username:n,password:o});case 20:(c=e.sent).successfull?(a.setState({isLoading:!1}),a.props.redirect(a.props.history,"/Calendar",!0)):a.setState({isLoading:!1,errorMessages:Object(M.a)(c.errorMessages)});case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={isLoading:!1,errorMessages:[]},a.emailInput=n.a.createRef(null),a.usernameInput=n.a.createRef(null),a.passwordInput=n.a.createRef(null),a.repeatPasswordInput=n.a.createRef(null),a}return Object(u.a)(r,[{key:"render",value:function(){var e=this.state.isLoading?Object(w.jsx)(I,{}):null,t=[];return this.state.errorMessages.map((function(e,r){return t.push(Object(w.jsx)(B,{alert:"danger",message:e},r))})),Object(w.jsxs)("div",{className:P.a.RegisterContainer,children:[e,Object(w.jsx)("p",{className:P.a.Slogan,children:"Register your reactive account"}),Object(w.jsxs)("form",{children:[t,Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Email address"}),Object(w.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter your email",ref:this.emailInput})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Username"}),Object(w.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter your username",ref:this.usernameInput})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Password"}),Object(w.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter your password",ref:this.passwordInput})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Repeat password"}),Object(w.jsx)("input",{type:"password",className:"form-control",placeholder:"Repeat your password",ref:this.repeatPasswordInput})]}),Object(w.jsx)("button",{onClick:this.register,className:"btn btn-primary w-100",children:"Register"})]})]})}}]),r}(a.Component),E=r(52),Y=r.n(E),G=r(88),W=r(89),q=r(90);function U(e,t){var r={year:e,month:t,current:{}},a=G("".concat(e,"/").concat(t,"/01")),n=a.daysInMonth();if(r.current={start:a.day(),max:a.daysInMonth(),active:G().date()},0===r.current.start&&(r.current.start=7),1!==r.current.start){var o=G("".concat(e,"/").concat(t-1,"/01")),s=o.daysInMonth(),c=s-(r.current.start-2);n+=s-c+1,r.previous={from:c,to:o.daysInMonth()}}return n<42&&(r.next={to:42-n}),function(e){var t=[],r=e.year,a=e.month;if(r=Number(r),a=Number(a),e.previous){var n,o;1===a?(o=12,n=r-1):((o=a-1)<10&&(o="0".concat(o)),n=r);for(var s=e.previous.from;s<=e.previous.to;s++)t.push({date:parseInt("".concat(n).concat(o).concat(s)),currentMonth:!1,isActive:!1,day:s,todos:[]})}var c=a;c<10&&(c="0".concat(a));for(var i=1;i<=e.current.max;i++){var u=i;u<10&&(u="0".concat(u));var l={date:parseInt("".concat(r).concat(c).concat(u)),currentMonth:!0,isActive:!1,day:i,todos:[]};i===e.current.active&&(l.isActive=!0),t.push(l)}if(e.next){var d,p;12===a?(p=1,d=r+1):(p=a+1,d=r),p<10&&(p="0".concat(p));for(var h=1;h<=e.next.to;h++){var b="0".concat(h),j={date:parseInt("".concat(d).concat(p).concat(b)),currentMonth:!1,isActive:!1,day:h,todos:[]};t.push(j)}}return t}(r)}G.extend(W),G.extend(q);var V={convertFromNumber:function(e){var t=e.toString(),r=t.substr(0,4),a=t.substr(4,2),n=t.substr(6,2);return"".concat(r,"/").concat(a,"/").concat(n)},getCalendarDays:U,getCurrentDate:function(){return{year:G().format("YYYY"),month:G().format("M"),day:G().format("D")}},getCurrentYear:function(){return G().format("YYYY")},getMonthRange:function(e,t){var r=U(e,t);return{from:r[0].date,to:r[r.length-1].date}},getMonthData:function(e,t){var r=G("".concat(e,"/").concat(t,"/01")).daysInMonth(),a=t<10?"0".concat(t):t;return{from:parseInt("".concat(e).concat(a,"0",1)),to:parseInt("".concat(e).concat(a).concat(r))}}};function Z(){return(Z=Object(f.a)(j.a.mark((function e(t){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=K({date:t}),e.next=3,m.post("/mood/getForDay",r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(f.a)(j.a.mark((function e(t,r){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=K({date:t,mood:r}),e.next=3,m.post("/mood/update",a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(f.a)(j.a.mark((function e(t,r){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=K({startDate:t,endDate:r}),e.next=3,m.post("/mood/getForRange",a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){var t=localStorage.getItem("authToken");return e.authToken=t,e}var X={getForDay:function(e){return Z.apply(this,arguments)},updateMood:function(e,t){return J.apply(this,arguments)},getForRange:function(e,t){return z.apply(this,arguments)},getMoodColor:function(e){switch(e){case"Excellent":return"#008000";case"Good":return"#38b000";case"Average":return"#ccff33";case"Bad":return"#f79d65";case"Miserable":return"#f27059";default:return"white"}}};function Q(){return(Q=Object(f.a)(j.a.mark((function e(t){var r,a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=re({date:t}),e.next=3,m.post("/todo/daily",r);case 3:return a=e.sent,n=a.data.response,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(f.a)(j.a.mark((function e(t,r){var a,n,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=re({startDate:t,endDate:r}),e.next=4,m.post("/todo/getForDateRange",a);case 4:return n=e.sent,o=n.data.response,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(f.a)(j.a.mark((function e(t){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=re(t),e.next=3,m.post("/todo/create",r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(f.a)(j.a.mark((function e(t,r){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=re({todoId:t,newCheckState:r}),e.next=3,m.post("/todo/updateCheck",a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e){var t=localStorage.getItem("authToken");return e.authToken=t,e}var ae={changeTodoCheckedState:function(e,t){return te.apply(this,arguments)},getTodosForDates:function(e,t){return $.apply(this,arguments)},getDailyTodos:function(e){return Q.apply(this,arguments)},create:function(e){return ee.apply(this,arguments)}},ne=r(53),oe=r.n(ne),se=r(10),ce=r.n(se),ie=r(54),ue=r.n(ie),le=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var e={backgroundColor:this.props.backgroundColor};return Object(w.jsx)("div",{style:e,className:ue.a.TodoRow})}}]),r}(a.Component),de=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={showPopover:!1,moodColor:null},e.redirect=function(){var t=e.props.dateObject.date;e.props.redirect(e.props.history,"/Todo/".concat(t))},e.showPopoverHandler=function(){e.setState({showPopover:!0})},e.hidePopoverHandler=function(){e.setState({showPopover:!1})},e.updateMoodHanlder=function(){var t=Object(f.a)(j.a.mark((function t(r,a){var n,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.stopPropagation(),n=X.getMoodColor(a),e.setState({moodColor:n}),o=e.props.dateObject.date,X.updateMood(o,a);case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.dateObject.moodColor||"#ebedf0";this.setState({moodColor:e})}},{key:"render",value:function(){var e=this,t=[];this.props.dateObject.todos.length>0&&this.props.dateObject.todos.forEach((function(e,r){t.push(Object(w.jsx)(le,{backgroundColor:e.label.backgroundColor},r))}));var r=this.props.dateObject,a=r.currentMonth?ce.a.Current:ce.a.Box,n=r.isActive?ce.a.Active:ce.a.Number,o=null;return this.state.showPopover&&(o=Object(w.jsxs)("div",{className:ce.a.Popover,children:[Object(w.jsx)("div",{onClick:function(t){return e.updateMoodHanlder(t,"Miserable")},className:"".concat(ce.a.PopoverBox," ").concat(ce.a.Miserable)}),Object(w.jsx)("div",{onClick:function(t){return e.updateMoodHanlder(t,"Bad")},className:"".concat(ce.a.PopoverBox," ").concat(ce.a.Bad)}),Object(w.jsx)("div",{onClick:function(t){return e.updateMoodHanlder(t,"Average")},className:"".concat(ce.a.PopoverBox," ").concat(ce.a.Average)}),Object(w.jsx)("div",{onClick:function(t){return e.updateMoodHanlder(t,"Good")},className:"".concat(ce.a.PopoverBox," ").concat(ce.a.Good)}),Object(w.jsx)("div",{onClick:function(t){return e.updateMoodHanlder(t,"Excellent")},className:"".concat(ce.a.PopoverBox," ").concat(ce.a.Excellent)})]})),Object(w.jsxs)("td",{className:a,onClick:this.redirect,children:[Object(w.jsxs)("span",{className:ce.a.FirstRow,children:[Object(w.jsx)("div",{className:ce.a.LeftBox,children:Object(w.jsx)("div",{onMouseLeave:this.hidePopoverHandler,onMouseOver:this.showPopoverHandler,style:{backgroundColor:this.state.moodColor},className:ce.a.ColorBox,children:o})}),Object(w.jsx)("div",{className:ce.a.RightBox,children:Object(w.jsx)("p",{className:n,children:r.day})})]}),Object(w.jsx)("span",{className:ce.a.SecondRow,children:t})]})}}]),r}(a.Component),pe=Object(h.f)(de),he=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var e=[];if(this.props.days.length>0)for(var t=0;t<this.props.days.length;t++){var r=this.props.days[t];e.push(Object(w.jsx)(pe,{redirect:this.props.redirect,dateObject:r},t))}return Object(w.jsx)("tr",{className:oe.a.Row,children:e})}}]),r}(a.Component),be=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={isLoading:!1,errorMessages:[],days:[],date:{}},e.updateDate=Object(f.a)(j.a.mark((function t(){var r,a,n,o,s,c,i,u,l;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),r=V.getCurrentDate(),a=r.year,n=r.month,o=V.getCalendarDays(a,n),s=o[0].date,c=o[o.length-1].date,t.next=8,ae.getTodosForDates(s,c);case 8:if((i=t.sent).successfull){t.next=12;break}return e.setState({isLoading:!1,errorMessages:Object(M.a)(i.errorMessages)}),t.abrupt("return");case 12:return i.data.todos.forEach((function(e){var t=o.find((function(t){return t.date===e.date}));t.todos.length<3&&t.todos.push(e)})),t.next=16,X.getForRange(s,c);case 16:u=t.sent,l=u.data.response,l.data.dateMoods.forEach((function(e){o.find((function(t){return t.date===e.date})).moodColor=X.getMoodColor(e.mood)})),e.setState({isLoading:!1,days:Object(M.a)(o),date:r});case 21:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateDate();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(this.state.errorMessages.length>0)return this.state.errorMessages.map((function(e,t){return Object(w.jsx)(B,{alert:"danger",message:e},t)}));if(this.state.isLoading)return Object(w.jsx)(I,{});var e=[];if(0!==this.state.days.length)for(var t=0,r=0;r<6;r++){for(var a=[],n=0;n<7;n++)a.push(this.state.days[t++]);e.push(Object(w.jsx)(he,{redirect:this.props.redirect,days:a},r))}return Object(w.jsxs)("table",{className:Y.a.Calendar,children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Mon"}),Object(w.jsx)("th",{children:"Tue"}),Object(w.jsx)("th",{children:"Wed"}),Object(w.jsx)("th",{children:"Thu"}),Object(w.jsx)("th",{children:"Fri"}),Object(w.jsx)("th",{children:"Sat"}),Object(w.jsx)("th",{children:"Sun"})]})}),Object(w.jsx)("tbody",{children:e})]})}}]),r}(a.Component),je=r(23),fe=r(20),ve=r(15),xe=r.n(ve),me=r(27),Oe=r.n(me),ge=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={isChecked:e.props.isChecked,showDescription:!1},e.changeCheckedHandler=Object(f.a)(j.a.mark((function t(){var r,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!e.state.isChecked,a=e.props.id,e.setState({isChecked:r}),t.next=5,ae.changeTodoCheckedState(a,r);case 5:case"end":return t.stop()}}),t)}))),e.toggleDescriptionHandler=function(){e.setState({showDescription:!e.state.showDescription})},e}return Object(u.a)(r,[{key:"render",value:function(){var e=this.state.isChecked?fe.b:fe.d,t=null;return this.state.showDescription&&(t=Object(w.jsx)("div",{className:Oe.a.TodoDescription,children:this.props.description})),Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{onClick:this.toggleDescriptionHandler,style:this.props.label,className:Oe.a.Todo,children:[Object(w.jsx)("div",{style:{color:this.props.label.color},className:Oe.a.TodoText,children:this.props.title}),Object(w.jsx)(je.a,{onClick:this.changeCheckedHandler,icon:e,className:Oe.a.Icon})]}),t]})}}]),r}(a.Component),_e=r(24),ye=r.n(_e),Ce=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).createTodoHandler=function(){var e=a.titleInput.current.value,t=a.descriptionTextArea.current.value;e&&t?(a.titleInput.current.value="",a.descriptionTextArea.current.value="",a.props.create(e,t)):alert("Title and description are required!")},a.titleInput=n.a.createRef(null),a.descriptionTextArea=n.a.createRef(null),a}return Object(u.a)(r,[{key:"render",value:function(){return Object(w.jsxs)("div",{className:ye.a.TodoForm,children:[Object(w.jsx)("label",{htmlFor:"title",className:ye.a.TitleLabel,children:"Title"}),Object(w.jsx)("input",{type:"text",placeholder:"Something very important",id:"title",className:ye.a.TitleInput,ref:this.titleInput}),Object(w.jsx)("textarea",{className:ye.a.Textarea,placeholder:"Describe the very important thing",ref:this.descriptionTextArea}),Object(w.jsx)("button",{onClick:this.createTodoHandler,className:ye.a.CreateButton,children:"Create"})]})}}]),r}(a.Component),ke=r(55);function we(){return(we=Object(f.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/labels/all");case 2:return t=e.sent,r=t.data.response,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Te={getAll:function(){return we.apply(this,arguments)}},Ne=r(56),Me=r.n(Ne),Le=r(30),Se=r.n(Le),Be=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={isSelected:e.props.isSelected},e.changeLabelHandler=function(){var t={backgroundColor:e.props.backgroundColor,color:e.props.color,text:e.props.text};e.props.change(t)},e}return Object(u.a)(r,[{key:"render",value:function(){var e={backgroundColor:this.props.backgroundColor,color:this.props.color},t=this.props.isSelected?Object(w.jsx)(je.a,{icon:fe.a,className:Se.a.Icon,style:{color:this.props.color}}):null;return Object(w.jsxs)("div",{onClick:this.changeLabelHandler,className:Se.a.Label,children:[t,Object(w.jsx)("p",{style:e,className:Se.a.LabelText,children:this.props.text})]})}}]),r}(a.Component),De=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={isLoading:!0,errorMessages:[],labels:[]},e.changeLabelHandler=function(t){var r,a=e.state.labels.slice(),n=a.find((function(e){return e.backgroundColor===t.backgroundColor&&e.color===t.color})),o=Object(ke.a)(a);try{for(o.s();!(r=o.n()).done;){r.value.isSelected=!1}}catch(s){o.e(s)}finally{o.f()}n.isSelected=!0,e.setState({labels:Object(M.a)(a)}),e.props.change(t)},e}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.next=3,Te.getAll();case 3:(t=e.sent).successfull?(r=t.data.labels.map((function(e){return e.isSelected=!1,e})),this.setState({isLoading:!1,labels:Object(M.a)(r)})):this.setState({isLoading:!1,errorMessages:Object(M.a)(t.errorMessages)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.isLoading?Object(w.jsx)(I,{}):null,r=[];this.state.errorMessages.forEach((function(e){r.push(Object(w.jsx)(B,{alert:"danger",message:e}))}));var a=[];return this.state.labels.map((function(t,r){return a.push(Object(w.jsx)(Be,{change:e.changeLabelHandler,backgroundColor:t.backgroundColor,color:t.color,text:t.text,isSelected:t.isSelected},r))})),Object(w.jsxs)("div",{className:Me.a.TodoLabels,children:[r,t,a]})}}]),r}(a.Component),Re=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).createTodoHandler=function(){var e=Object(f.a)(j.a.mark((function e(t,r){var n,o,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.selectedLabel){e.next=3;break}return alert("Choose label"),e.abrupt("return");case 3:if(t){e.next=8;break}return alert("Title is required!"),e.abrupt("return");case 8:if(!((t=t.trim()).length<1)){e.next=12;break}return alert("Title is required!"),e.abrupt("return");case 12:if(r){e.next=17;break}return alert("Description is required!"),e.abrupt("return");case 17:if(!((r=r.trim()).length<1)){e.next=21;break}return alert("Description is required!"),e.abrupt("return");case 21:return a.setState({isLoading:!0}),e.next=24,ae.create({title:t,description:r,labelText:a.state.selectedLabel.text,date:a.state.currentDate});case 24:n=e.sent,(o=n.data.response).successfull?((s=o.data.todo).label=a.state.selectedLabel,a.setState({isLoading:!1,todos:[].concat(Object(M.a)(a.state.todos),[s]),selectedLabel:null,showCreateForm:!1})):a.setState({errorMessages:Object(M.a)(o.errorMessages),isLoading:!1,selectedLabel:null,showCreateForm:!1});case 27:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),a.changeTodoLabelHandler=function(e){a.setState({selectedLabel:e})},a.toggleCreateFormVisibility=function(){a.setState({showCreateForm:!a.state.showCreateForm})},a.updateCurrentMood=function(e){var t=e.target.value;X.updateMood(a.state.currentDate,t),a.setState({currentMood:t})},a.state={isLoading:!1,errorMessages:[],showCreateForm:!1,todos:[],currentDate:null,selectedLabel:null,currentMood:null},a}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(j.a.mark((function e(){var t,r,a,n,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.date,this.setState({isLoading:!0}),e.next=4,ae.getDailyTodos(t);case 4:if((r=e.sent).successfull){e.next=9;break}this.setState({errorMessages:Object(M.a)(r.errorMessages),isLoading:!1,currentDate:t}),e.next=16;break;case 9:return e.next=11,X.getForDay(t);case 11:a=e.sent,(n=a.data.response).successfull||this.setState({errorMessages:Object(M.a)(n.errorMessages),isLoading:!1,currentDate:t}),o=n.data.moodText,this.setState({todos:Object(M.a)(r.data.todos),isLoading:!1,currentDate:t,currentMood:o});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(this.state.isLoading)return Object(w.jsx)(I,{});var e=[];if(this.state.errorMessages.forEach((function(t,r){e.push(Object(w.jsx)(B,{alert:"danger",message:t},r))})),e.length>0)return e;var t=null;this.state.showCreateForm&&(t=Object(w.jsxs)("div",{className:xe.a.Form,children:[Object(w.jsx)(Ce,{create:this.createTodoHandler}),Object(w.jsx)(De,{change:this.changeTodoLabelHandler})]}));var r=[];this.state.todos.forEach((function(e){var t=Object(w.jsx)(ge,{title:e.title,label:e.label,isChecked:e.isChecked,id:e.id,description:e.description},e.id);r.push(t)}));var a=null;0===this.state.todos.length&&(a=Object(w.jsx)("h3",{className:xe.a.NoTodos,children:"No created todos! Create one :)"}));var n=this.state.currentDate?V.convertFromNumber(this.state.currentDate):null;return Object(w.jsxs)("div",{className:xe.a.TodoContainer,children:[Object(w.jsxs)("span",{className:xe.a.CurrentDate,children:["Current date: ",n]}),Object(w.jsxs)("div",{className:xe.a.MoodContainer,children:[Object(w.jsx)("span",{className:xe.a.MoodText,children:"How's your day going: "}),Object(w.jsxs)("select",{onChange:this.updateCurrentMood,defaultValue:this.state.currentMood,ref:this.moodSelect,className:xe.a.MoodSelect,children:[Object(w.jsx)("option",{className:xe.a.Excellent,children:"Excellent"}),Object(w.jsx)("option",{className:xe.a.Good,children:"Good"}),Object(w.jsx)("option",{className:xe.a.Average,children:"Average"}),Object(w.jsx)("option",{className:xe.a.Bad,children:"Bad"}),Object(w.jsx)("option",{className:xe.a.Miserable,children:"Miserable"})]})]}),Object(w.jsxs)("div",{className:xe.a.TodoSection,children:[Object(w.jsx)("span",{className:xe.a.TodoSectionText,children:"Todo section:"}),Object(w.jsx)(je.a,{onClick:this.toggleCreateFormVisibility,icon:fe.c,className:xe.a.Add}),t,Object(w.jsx)("div",{className:xe.a.Todos,children:r}),a]})]})}}]),r}(a.Component),Ie=r(57),Ae=r.n(Ie),Fe=r(58),Pe=r.n(Fe),He=r(59),Ee=r.n(He),Ye=r(38),Ge=r.n(Ye),We=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={showPopup:!1},e.hoverHandler=function(){e.setState({showPopup:!0})},e.hoverLeaveHandler=function(){e.setState({showPopup:!1})},e.redirect=function(){var t=e.props.date;e.props.redirect(e.props.history,"/Todo/".concat(t))},e}return Object(u.a)(r,[{key:"render",value:function(){var e=this.props.moodColor,t=null;if(this.state.showPopup){var r=V.convertFromNumber(this.props.date);t=Object(w.jsx)("div",{className:Ge.a.Popover,children:r})}return Object(w.jsx)("div",{onMouseOver:this.hoverHandler,onMouseLeave:this.hoverLeaveHandler,onClick:this.redirect,style:{backgroundColor:e},className:Ge.a.DayBox,children:t})}}]),r}(a.Component),qe=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var e=this,t=[];return this.props.dayMoods.forEach((function(r){var n=X.getMoodColor(r.mood);t.push(Object(a.createElement)(We,Object(c.a)(Object(c.a)({},e.props),{},{key:r.date,date:r.date,moodColor:n})))})),Object(w.jsx)("div",{className:Ee.a.WeekRow,children:t})}}]),r}(a.Component),Ue=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={isLoading:!1,errorMessages:[],monthDays:[]},e}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(j.a.mark((function e(){var t,r,a,n,o,s,c,i,u,l,d,p;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),t=this.props,r=t.year,a=t.month,n=V.getMonthData(r,a),o=n.from,s=n.to,e.next=5,X.getForRange(o,s);case 5:for(c=e.sent,i=c.data.response,u=i.data.dateMoods,l=[],d=function(e){var t=u.find((function(t){return t.date===e})),r="Missing";void 0!==t&&(r=t.mood),l.push({date:e,mood:r})},p=o-1;p<=s;p++)d(p);i.successfull?this.setState({isLoading:!1,monthDays:[].concat(l)}):this.setState({isLoading:!1,errorMessages:Object(M.a)(i.errorMessages)});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.isLoading?Object(w.jsx)(I,{}):null,t=[];if(this.state.monthDays.length>0)for(var r=0,n=0;n<5;n++){for(var o=[],s=0;s<7&&++r!==this.state.monthDays.length;s++){var i=this.state.monthDays[r],u={date:i.date,mood:i.mood};o.push(u)}t.push(Object(a.createElement)(qe,Object(c.a)(Object(c.a)({},this.props),{},{dayMoods:o,key:n})))}return Object(w.jsxs)("div",{className:Pe.a.MonthBox,children:[e,t]})}}]),r}(a.Component),Ve=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){for(var e=[],t=this.props.from;t<=this.props.to;t++)e.push(Object(a.createElement)(Ue,Object(c.a)(Object(c.a)({},this.props),{},{year:this.props.year,key:t,month:t})));return Object(w.jsx)("div",{className:Ae.a.MonthRow,children:e})}}]),r}(a.Component),Ze=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var e=V.getCurrentYear();return Object(w.jsxs)("div",{children:[Object(w.jsx)(Ve,Object(c.a)(Object(c.a)({},this.props),{},{year:e,from:1,to:4})),Object(w.jsx)(Ve,Object(c.a)(Object(c.a)({},this.props),{},{year:e,from:5,to:8})),Object(w.jsx)(Ve,Object(c.a)(Object(c.a)({},this.props),{},{year:e,from:9,to:12}))]})}}]),r}(a.Component),Je=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={isAuthenticated:!1},e.redirect=function(t,r,a){t.push(r),sessionStorage.setItem("page",r),void 0!==a&&e.setState({isAuthenticated:a})},e}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=y.isUserAuthenticated();this.setState({isAuthenticated:e})}},{key:"render",value:function(){var e=this,t=function(t,r){return y.isUserAuthenticated()||r.history.push("/Login"),Object(w.jsx)(t,Object(c.a)({redirect:e.redirect},r))},r=function(t,r){return y.isUserAuthenticated()&&r.history.push("/Calendar"),Object(w.jsx)(t,Object(c.a)({redirect:e.redirect},r))};return Object(w.jsx)("div",{children:Object(w.jsxs)(p.a,{children:[Object(w.jsx)(N,{redirect:this.redirect,isAuthenticated:this.state.isAuthenticated}),Object(w.jsxs)(h.c,{children:[Object(w.jsx)(h.a,{path:"/Login",exact:!0,render:function(e){return r(A,e)}}),Object(w.jsx)(h.a,{path:"/Register",exact:!0,render:function(e){return r(H,e)}}),Object(w.jsx)(h.a,{path:"/Calendar",exact:!0,render:function(e){return t(be,e)}}),Object(w.jsx)(h.a,{path:"/Todo/:date",exact:!0,render:function(e){return t(Re,e)}}),Object(w.jsx)(h.a,{path:"/Overview",exact:!0,render:function(e){return t(Ze,e)}}),Object(w.jsx)(h.a,{path:"/",exact:!0,render:function(e){return t(be,e)}})]})]})})}}]),r}(a.Component);s.a.render(Object(w.jsx)(n.a.StrictMode,{children:Object(w.jsx)(Je,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.594ef142.chunk.js.map