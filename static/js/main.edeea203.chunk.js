(this["webpackJsonpreactive-calendar"]=this["webpackJsonpreactive-calendar"]||[]).push([[0],{15:function(e,t,r){e.exports={Box:"CalendarBox_Box__2lRA8",Current:"CalendarBox_Current__uOHXP",FirstRow:"CalendarBox_FirstRow__TIB_Y",SecondRow:"CalendarBox_SecondRow__hRFFL",LeftBox:"CalendarBox_LeftBox__1XpaP",RightBox:"CalendarBox_RightBox__14_hI",ColorBox:"CalendarBox_ColorBox__8UtG5",Number:"CalendarBox_Number__3CyHb",Active:"CalendarBox_Active__1tYwI"}},16:function(e,t,r){e.exports={TodoContainer:"TodoContainer_TodoContainer__3HNq1",CurrentDate:"TodoContainer_CurrentDate__hNhhc",TodoSection:"TodoContainer_TodoSection__1BGjt",TodoSectionText:"TodoContainer_TodoSectionText___mZ_S",Add:"TodoContainer_Add__1prwe",Form:"TodoContainer_Form__3WvJa",NoTodos:"TodoContainer_NoTodos__17Hgu",Todos:"TodoContainer_Todos__1HawL"}},17:function(e,t,r){e.exports={Navigation:"Navigation_Navigation__9z3ST",Logo:"Navigation_Logo__1v8mo",NavigationButton:"Navigation_NavigationButton__omDWX"}},20:function(e,t,r){e.exports={TodoForm:"TodoForm_TodoForm__2kOIN",TitleInput:"TodoForm_TitleInput__1Tv0r",Textarea:"TodoForm_Textarea__1PNzc",CreateButton:"TodoForm_CreateButton__1K4wB",TitleLabel:"TodoForm_TitleLabel__2DRFM"}},25:function(e,t,r){e.exports={Todo:"Todo_Todo__1tPH5",TodoText:"Todo_TodoText__skZpM",Icon:"Todo_Icon__2yVEi"}},26:function(e,t,r){e.exports={Label:"Label_Label__2R2-t",LabelText:"Label_LabelText__3yDWO",Icon:"Label_Icon__3Nmlq"}},29:function(e,t,r){e.exports={LoginContainer:"Login_LoginContainer__3yL9J",Slogan:"Login_Slogan__3O6SN"}},30:function(e,t,r){e.exports={RegisterContainer:"Register_RegisterContainer__12l1T",Slogan:"Register_Slogan__2kV9W"}},46:function(e,t,r){e.exports={Loader:"Spinner_Loader__1GOUL",load6:"Spinner_load6__1rG_Z",round:"Spinner_round__36623"}},47:function(e,t,r){e.exports={Calendar:"Calendar_Calendar__2wnNf"}},48:function(e,t,r){e.exports={Row:"CalendarRow_Row__2VF7W"}},49:function(e,t,r){e.exports={TodoRow:"CalendarTodo_TodoRow__14rYH"}},51:function(e,t,r){e.exports={TodoLabels:"TodoLabels_TodoLabels__3b3Y_"}},57:function(e,t,r){},86:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),s=r(45),o=r.n(s),c=(r(57),r(33)),i=r(4),u=r(5),l=r(7),d=r(6),p=r(88),h=r(2),b=r.n(h),j=r(8),f=r(28),v=r.n(f);v.a.defaults.baseURL="https://reactive-calendar.glitch.me";var g=v.a;function x(){return(x=Object(j.a)(b.a.mark((function e(t){var r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/users/register",t);case 2:return r=e.sent,(a=r.data.response).successfull&&O(a.data.authToken),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(j.a)(b.a.mark((function e(t){var r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/users/login",t);case 2:return r=e.sent,(a=r.data.response).successfull&&O(a.data.authToken),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){localStorage.setItem("authToken",e)}var _={isUserAuthenticated:function(){return null!==localStorage.getItem("authToken")},register:function(e){return x.apply(this,arguments)},login:function(e){return m.apply(this,arguments)},logout:function(){localStorage.removeItem("authToken")}},y=r(13),C=Object(y.a)(),T=r(17),k=r.n(T),w=r(0),N=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).redirect=function(t){e.props.redirect(t)},e.logout=function(){_.logout(),e.props.redirect("/Login")},e}return Object(u.a)(r,[{key:"render",value:function(){var e=this,t=null;return t=_.isUserAuthenticated()?Object(w.jsxs)("span",{children:[Object(w.jsx)("button",{onClick:this.logout,className:k.a.NavigationButton,children:"Logout"}),Object(w.jsx)("button",{onClick:function(){return e.redirect("/Overview")},className:k.a.NavigationButton,children:"Overview"}),Object(w.jsx)("button",{onClick:function(){return e.redirect("/Calendar")},className:k.a.NavigationButton,children:"Calendar"})]}):Object(w.jsxs)("span",{children:[Object(w.jsx)("button",{onClick:function(){return e.redirect("/Register")},className:k.a.NavigationButton,children:"Register"}),Object(w.jsx)("button",{onClick:function(){return e.redirect("/Login")},className:k.a.NavigationButton,children:"Login"})]}),Object(w.jsxs)("nav",{className:k.a.Navigation,children:[Object(w.jsx)("span",{className:k.a.Logo,children:"Reactive Calendar"}),t]})}}]),r}(a.Component),L=r(9),S=r(29),I=r.n(S),R=function(e){return Object(w.jsx)("div",{className:"alert alert-".concat(e.alert),role:"alert",children:e.message})},M=r(46),B=r.n(M),D=function(){return Object(w.jsx)("div",{className:B.a.Loader,children:"Loading..."})},F=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).login=function(){var e=Object(j.a)(b.a.mark((function e(t){var r,n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=a.emailInput.current.value.trim(),n=a.passwordInput.current.value.trim(),r&&!(r.length<5)){e.next=6;break}return alert("Email is required!"),e.abrupt("return");case 6:if(n&&!(n.length<6)){e.next=9;break}return alert("Password must be at least 6 symbols!"),e.abrupt("return");case 9:return a.setState({isLoading:!0}),e.next=12,_.login({email:r,password:n});case 12:(s=e.sent).successfull?(a.setState({isLoading:!1}),a.props.redirect("/Calendar")):a.setState({errorMessages:Object(L.a)(s.errorMessages),isLoading:!1});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={isLoading:!1,errorMessages:[]},a.emailInput=n.a.createRef(null),a.passwordInput=n.a.createRef(null),a}return Object(u.a)(r,[{key:"render",value:function(){var e=this.state.isLoading?Object(w.jsx)(D,{}):null,t=[];return this.state.errorMessages.map((function(e,r){return t.push(Object(w.jsx)(R,{alert:"danger",message:e},r))})),Object(w.jsxs)("div",{className:I.a.LoginContainer,children:[e,Object(w.jsx)("p",{className:I.a.Slogan,children:"Log in to your reactive account"}),Object(w.jsxs)("form",{children:[t,Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Email address"}),Object(w.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter your email",ref:this.emailInput})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Password"}),Object(w.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter your password",ref:this.passwordInput})]}),Object(w.jsx)("button",{onClick:this.login,className:"btn btn-primary w-100",children:"Log in"})]})]})}}]),r}(a.Component),A=r(30),H=r.n(A),E=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).register=function(){var e=Object(j.a)(b.a.mark((function e(t){var r,n,s,o,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=a.emailInput.current.value.trim(),n=a.usernameInput.current.value.trim(),s=a.passwordInput.current.value.trim(),o=a.repeatPasswordInput.current.value.trim(),r&&!(r.length<5)){e.next=8;break}return alert("Email is required!"),e.abrupt("return");case 8:if(n&&!(n.length<5)){e.next=11;break}return alert("Username must be at least 5 symbols long!"),e.abrupt("return");case 11:if(s&&!(s.length<6)){e.next=14;break}return alert("Password must be at least 6 symbols long!"),e.abrupt("return");case 14:if(s===o){e.next=17;break}return alert("Passwords does not match!"),e.abrupt("return");case 17:return a.setState({isLoading:!0}),e.next=20,_.register({email:r,username:n,password:s});case 20:(c=e.sent).successfull?(a.setState({isLoading:!1}),a.props.redirect("/Calendar")):a.setState({isLoading:!1,errorMessages:Object(L.a)(c.errorMessages)});case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={isLoading:!1,errorMessages:[]},a.emailInput=n.a.createRef(null),a.usernameInput=n.a.createRef(null),a.passwordInput=n.a.createRef(null),a.repeatPasswordInput=n.a.createRef(null),a}return Object(u.a)(r,[{key:"render",value:function(){var e=this.state.isLoading?Object(w.jsx)(D,{}):null,t=[];return this.state.errorMessages.map((function(e,r){return t.push(Object(w.jsx)(R,{alert:"danger",message:e},r))})),Object(w.jsxs)("div",{className:H.a.RegisterContainer,children:[e,Object(w.jsx)("p",{className:H.a.Slogan,children:"Register your reactive account"}),Object(w.jsxs)("form",{children:[t,Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Email address"}),Object(w.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter your email",ref:this.emailInput})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Username"}),Object(w.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter your username",ref:this.usernameInput})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Password"}),Object(w.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter your password",ref:this.passwordInput})]}),Object(w.jsxs)("div",{className:"form-group",children:[Object(w.jsx)("label",{children:"Repeat password"}),Object(w.jsx)("input",{type:"password",className:"form-control",placeholder:"Repeat your password",ref:this.repeatPasswordInput})]}),Object(w.jsx)("button",{onClick:this.register,className:"btn btn-primary w-100",children:"Register"})]})]})}}]),r}(a.Component),P=r(47),q=r.n(P),U=r(77),Y=r(78),W=r(79);var V={convertFromNumber:function(e){var t=e.toString(),r=t.substr(0,4),a=t.substr(4,2),n=t.substr(6,2);return"".concat(r,"/").concat(a,"/").concat(n)},getCalendarDays:function(e,t){U.extend(Y),U.extend(W);var r={year:e,month:t,current:{}},a=U("".concat(e,"/").concat(t,"/01")),n=a.daysInMonth();if(r.current={start:a.day(),max:a.daysInMonth(),active:U().date()},0===r.current.start&&(r.current.start=7),1!==r.current.start){var s=U("".concat(e,"/").concat(t-1,"/01")),o=s.daysInMonth(),c=o-(r.current.start-2);n+=o-c+1,r.previous={from:c,to:s.daysInMonth()}}return n<42&&(r.next={to:42-n}),function(e){var t=[],r=e.year,a=e.month;if(r=Number(r),a=Number(a),e.previous){var n,s;1===a?(s=12,n=r-1):((s=a-1)<10&&(s="0".concat(s)),n=r);for(var o=e.previous.from;o<=e.previous.to;o++)t.push({date:parseInt("".concat(n).concat(s).concat(o)),currentMonth:!1,isActive:!1,day:o,todos:[]})}var c=a;c<10&&(c="0".concat(a));for(var i=1;i<=e.current.max;i++){var u=i;u<10&&(u="0".concat(u));var l={date:parseInt("".concat(r).concat(c).concat(u)),currentMonth:!0,isActive:!1,day:i,todos:[]};i===e.current.active&&(l.isActive=!0),t.push(l)}if(e.next){var d,p;12===a?(p=1,d=r+1):(p=a+1,d=r),p<10&&(p="0".concat(p));for(var h=1;h<=e.next.to;h++){var b="0".concat(h),j={date:parseInt("".concat(d).concat(p).concat(b)),currentMonth:!1,isActive:!1,day:h,todos:[]};t.push(j)}}return t}(r)},getCurrentDate:function(){return{year:U().format("YYYY"),month:U().format("M"),day:U().format("D")}}};function G(){return(G=Object(j.a)(b.a.mark((function e(t){var r,a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=z({date:t}),e.next=3,g.post("/todo/daily",r);case 3:return a=e.sent,n=a.data.response,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(j.a)(b.a.mark((function e(t,r){var a,n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=z({startDate:t,endDate:r}),e.next=4,g.post("/todo/getForDateRange",a);case 4:return n=e.sent,s=n.data.response,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return(X=Object(j.a)(b.a.mark((function e(t){var r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=z(t),e.next=3,g.post("/todo/create",r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(j.a)(b.a.mark((function e(t,r){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=z({todoId:t,newCheckState:r}),e.next=3,g.post("/todo/updateCheck",a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){var t=localStorage.getItem("authToken");return e.authToken=t,e}var K={changeTodoCheckedState:function(e,t){return Z.apply(this,arguments)},getDailyTodos:function(e){return G.apply(this,arguments)},getTodosForDates:function(e,t){return J.apply(this,arguments)},create:function(e){return X.apply(this,arguments)}},Q=r(48),$=r.n(Q),ee=r(15),te=r.n(ee),re=r(49),ae=r.n(re),ne=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var e={backgroundColor:this.props.backgroundColor};return Object(w.jsx)("div",{style:e,className:ae.a.TodoRow})}}]),r}(a.Component),se=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).redirect=function(){var t=e.props.dateObject.date;e.props.redirect("/Todo/".concat(t))},e}return Object(u.a)(r,[{key:"render",value:function(){var e=[];this.props.dateObject.todos.length>0&&this.props.dateObject.todos.forEach((function(t,r){e.push(Object(w.jsx)(ne,{backgroundColor:t.label.backgroundColor},r))}));var t=this.props.dateObject,r=t.currentMonth?te.a.Current:te.a.Box,a=t.isActive?te.a.Active:te.a.Number;return Object(w.jsxs)("td",{className:r,onClick:this.redirect,children:[Object(w.jsxs)("span",{className:te.a.FirstRow,children:[Object(w.jsx)("div",{className:te.a.LeftBox,children:Object(w.jsx)("div",{className:te.a.ColorBox})}),Object(w.jsx)("div",{className:te.a.RightBox,children:Object(w.jsx)("span",{className:a,children:t.day})})]}),Object(w.jsx)("span",{className:te.a.SecondRow,children:e})]})}}]),r}(a.Component),oe=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var e=[];if(this.props.days.length>0)for(var t=0;t<this.props.days.length;t++){var r=this.props.days[t];e.push(Object(w.jsx)(se,{redirect:this.props.redirect,dateObject:r},t))}return Object(w.jsx)("tr",{className:$.a.Row,children:e})}}]),r}(a.Component),ce=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={isLoading:!1,errorMessages:[],days:[],date:{}},e.updateDate=Object(j.a)(b.a.mark((function t(){var r,a,n,s,o,c,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),r=V.getCurrentDate(),a=r.year,n=r.month,s=V.getCalendarDays(a,n),o=s[0].date,c=s[s.length-1].date,t.next=8,K.getTodosForDates(o,c);case 8:if((i=t.sent).successfull){t.next=12;break}return e.setState({isLoading:!1,errorMessages:Object(L.a)(i.errorMessages)}),t.abrupt("return");case 12:i.data.todos.forEach((function(e){var t=s.find((function(t){return t.date===e.date}));t.todos.length<3&&t.todos.push(e)})),e.setState({isLoading:!1,days:Object(L.a)(s),date:r});case 15:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=Object(j.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateDate();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(this.state.errorMessages.length>0)return this.state.errorMessages.map((function(e,t){return Object(w.jsx)(R,{alert:"danger",message:e},t)}));if(this.state.isLoading)return Object(w.jsx)(D,{});var e=[];if(0!==this.state.days.length)for(var t=0,r=0;r<6;r++){for(var a=[],n=0;n<7;n++)a.push(this.state.days[t++]);e.push(Object(w.jsx)(oe,{redirect:this.props.redirect,days:a},r))}return Object(w.jsxs)("table",{className:q.a.Calendar,children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Mon"}),Object(w.jsx)("th",{children:"Tue"}),Object(w.jsx)("th",{children:"Wed"}),Object(w.jsx)("th",{children:"Thu"}),Object(w.jsx)("th",{children:"Fri"}),Object(w.jsx)("th",{children:"Sat"}),Object(w.jsx)("th",{children:"Sun"})]})}),Object(w.jsx)("tbody",{children:e})]})}}]),r}(a.Component),ie=r(19),ue=r(18),le=r(16),de=r.n(le),pe=r(25),he=r.n(pe),be=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={isChecked:e.props.isChecked},e.changeCheckedHandler=Object(j.a)(b.a.mark((function t(){var r,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!e.state.isChecked,a=e.props.id,e.setState({isChecked:r}),t.next=5,K.changeTodoCheckedState(a,r);case 5:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(r,[{key:"render",value:function(){var e=this.state.isChecked?ue.b:ue.d;return Object(w.jsxs)("div",{style:this.props.label,className:he.a.Todo,children:[Object(w.jsx)("div",{style:{color:this.props.label.color},className:he.a.TodoText,children:this.props.title}),Object(w.jsx)(ie.a,{onClick:this.changeCheckedHandler,icon:e,className:he.a.Icon})]})}}]),r}(a.Component),je=r(20),fe=r.n(je),ve=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).createTodoHandler=function(){var e=a.titleInput.current.value,t=a.descriptionTextArea.current.value;e&&t?(a.titleInput.current.value="",a.descriptionTextArea.current.value="",a.props.create(e,t)):alert("Title and description are required!")},a.titleInput=n.a.createRef(null),a.descriptionTextArea=n.a.createRef(null),a}return Object(u.a)(r,[{key:"render",value:function(){return Object(w.jsxs)("div",{className:fe.a.TodoForm,children:[Object(w.jsx)("label",{htmlFor:"title",className:fe.a.TitleLabel,children:"Title"}),Object(w.jsx)("input",{type:"text",placeholder:"Something very important",id:"title",className:fe.a.TitleInput,ref:this.titleInput}),Object(w.jsx)("textarea",{className:fe.a.Textarea,placeholder:"Describe the very important thing",ref:this.descriptionTextArea}),Object(w.jsx)("button",{onClick:this.createTodoHandler,className:fe.a.CreateButton,children:"Create"})]})}}]),r}(a.Component),ge=r(50);function xe(){return(xe=Object(j.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/labels/all");case 2:return t=e.sent,r=t.data.response,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me={getAll:function(){return xe.apply(this,arguments)}},Oe=r(51),_e=r.n(Oe),ye=r(26),Ce=r.n(ye),Te=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={isSelected:e.props.isSelected},e.changeLabelHandler=function(){var t={backgroundColor:e.props.backgroundColor,color:e.props.color,text:e.props.text};e.props.change(t)},e}return Object(u.a)(r,[{key:"render",value:function(){var e={backgroundColor:this.props.backgroundColor,color:this.props.color},t=this.props.isSelected?Object(w.jsx)(ie.a,{icon:ue.a,className:Ce.a.Icon,style:{color:this.props.color}}):null;return Object(w.jsxs)("div",{onClick:this.changeLabelHandler,className:Ce.a.Label,children:[t,Object(w.jsx)("p",{style:e,className:Ce.a.LabelText,children:this.props.text})]})}}]),r}(a.Component),ke=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={isLoading:!0,errorMessages:[],labels:[]},e.changeLabelHandler=function(t){var r,a=e.state.labels.slice(),n=a.find((function(e){return e.backgroundColor===t.backgroundColor&&e.color===t.color})),s=Object(ge.a)(a);try{for(s.s();!(r=s.n()).done;){r.value.isSelected=!1}}catch(o){s.e(o)}finally{s.f()}n.isSelected=!0,e.setState({labels:Object(L.a)(a)}),e.props.change(t)},e}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=Object(j.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.next=3,me.getAll();case 3:(t=e.sent).successfull?(r=t.data.labels.map((function(e){return e.isSelected=!1,e})),this.setState({isLoading:!1,labels:Object(L.a)(r)})):this.setState({isLoading:!1,errorMessages:Object(L.a)(t.errorMessages)});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.isLoading?Object(w.jsx)(D,{}):null,r=[];this.state.errorMessages.forEach((function(e){r.push(Object(w.jsx)(R,{alert:"danger",message:e}))}));var a=[];return this.state.labels.map((function(t,r){return a.push(Object(w.jsx)(Te,{change:e.changeLabelHandler,backgroundColor:t.backgroundColor,color:t.color,text:t.text,isSelected:t.isSelected},r))})),Object(w.jsxs)("div",{className:_e.a.TodoLabels,children:[r,t,a]})}}]),r}(a.Component),we=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={isLoading:!1,errorMessages:[],showCreateForm:!1,todos:[],currentDate:null,selectedLabel:null},e.createTodoHandler=function(){var t=Object(j.a)(b.a.mark((function t(r,a){var n,s,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.selectedLabel){t.next=3;break}return alert("Choose label"),t.abrupt("return");case 3:if(r){t.next=8;break}return alert("Title is required!"),t.abrupt("return");case 8:if(!((r=r.trim()).length<1)){t.next=12;break}return alert("Title is required!"),t.abrupt("return");case 12:if(a){t.next=17;break}return alert("Description is required!"),t.abrupt("return");case 17:if(!((a=a.trim()).length<1)){t.next=21;break}return alert("Description is required!"),t.abrupt("return");case 21:return e.setState({isLoading:!0}),t.next=24,K.create({title:r,description:a,labelText:e.state.selectedLabel.text,date:e.state.currentDate});case 24:n=t.sent,(s=n.data.response).successfull?((o=s.data.todo).label=e.state.selectedLabel,e.setState({isLoading:!1,todos:[].concat(Object(L.a)(e.state.todos),[o]),selectedLabel:null,showCreateForm:!1})):e.setState({errorMessages:Object(L.a)(s.errorMessages),isLoading:!1,selectedLabel:null,showCreateForm:!1});case 27:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.changeTodoLabelHandler=function(t){e.setState({selectedLabel:t})},e.toggleCreateFormVisibility=function(){e.setState({showCreateForm:!e.state.showCreateForm})},e}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=Object(j.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.date,this.setState({isLoading:!0}),e.next=4,K.getDailyTodos(t);case 4:(r=e.sent).successfull?this.setState({todos:Object(L.a)(r.data.todos),isLoading:!1,currentDate:t}):this.setState({errorMessages:Object(L.a)(r.errorMessages),isLoading:!1,currentDate:t});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=null;this.state.showCreateForm&&(e=Object(w.jsxs)("div",{className:de.a.Form,children:[Object(w.jsx)(ve,{create:this.createTodoHandler}),Object(w.jsx)(ke,{change:this.changeTodoLabelHandler})]}));var t=[];this.state.todos.forEach((function(e){var r=Object(w.jsx)(be,{title:e.title,label:e.label,isChecked:e.isChecked,id:e.id},e.id);t.push(r)}));var r=null;0===this.state.todos.length&&(r=Object(w.jsx)("h3",{className:de.a.NoTodos,children:"No created todos! Create one :)"}));var a=this.state.isLoading?Object(w.jsx)(D,{}):null,n=[];this.state.errorMessages.forEach((function(e,t){n.push(Object(w.jsx)(R,{alert:"danger",message:e},t))}));var s=this.state.currentDate?V.convertFromNumber(this.state.currentDate):null;return Object(w.jsxs)("div",{className:de.a.TodoContainer,children:[Object(w.jsxs)("span",{className:de.a.CurrentDate,children:["Current date: ",s]}),Object(w.jsxs)("div",{className:de.a.TodoSection,children:[Object(w.jsx)("span",{className:de.a.TodoSectionText,children:"Todo section:"}),Object(w.jsx)(ie.a,{onClick:this.toggleCreateFormVisibility,icon:ue.c,className:de.a.Add}),e,Object(w.jsxs)("div",{className:de.a.Todos,children:[n,a,t]}),r]})]})}}]),r}(a.Component),Ne=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={redirect:null,currentPage:null},e.redirect=function(t){C.push("/reactive-calendar"+t),sessionStorage.setItem("page",t),e.setState({currentPage:t})},e}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("page")||"/Login";this.redirect(e),this.setState({redirect:e})}},{key:"render",value:function(){var e=this,t=function(t,r){return _.isUserAuthenticated()||e.redirect("/Login"),Object(w.jsx)(t,Object(c.a)({redirect:e.redirect},r))},r=function(t,r){return _.isUserAuthenticated()&&e.redirect("/Calendar"),Object(w.jsx)(t,Object(c.a)({redirect:e.redirect},r))};return Object(w.jsxs)("div",{children:[Object(w.jsx)(N,{redirect:this.redirect}),Object(w.jsx)(p.b,{history:C,children:Object(w.jsxs)(p.c,{children:[Object(w.jsx)(p.a,{path:"/reactive-calendar/Login",render:function(e){return r(F,e)}}),Object(w.jsx)(p.a,{path:"/reactive-calendar/Register",render:function(e){return r(E,e)}}),Object(w.jsx)(p.a,{path:"/reactive-calendar/Calendar",render:function(e){return t(ce,e)}}),Object(w.jsx)(p.a,{path:"/reactive-calendar/Todo/:date",render:function(e){return t(we,e)}})]})})]})}}]),r}(a.Component);o.a.render(Object(w.jsx)(n.a.StrictMode,{children:Object(w.jsx)(Ne,{})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.edeea203.chunk.js.map